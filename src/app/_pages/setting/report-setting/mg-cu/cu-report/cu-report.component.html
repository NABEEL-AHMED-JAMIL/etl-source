<form nz-form [nzLayout]="'vertical'"
    [formGroup]="reportSettingForm"
    (ngSubmit)="submit()">
    <div nz-row [nzGutter]="16">
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired>Name</nz-form-label>
                <nz-form-control nzErrorTip="Profile Name Required">
                    <input nz-input formControlName="name" placeholder="Enter Name" />
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired>Group Type</nz-form-label>
                <nz-form-control nzErrorTip="Group Type Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="groupType"
                        nzPlaceHolder="Select Dashboard Type">
                        <nz-option *ngFor="let lookupChildren of REPORT_GROUP?.SUB_LOOKUP_DATA"
                            [nzLabel]="lookupChildren.lookupValue"
                            [nzValue]="lookupChildren.lookupType">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired>Date Filter</nz-form-label>
                <nz-form-control nzErrorTip="Date Filter Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="dateFilter"
                        nzPlaceHolder="Select Date Filter">
                        <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                            [nzLabel]="lookupChildren.lookupValue"
                            [nzValue]="lookupChildren.lookupCode">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired>Record Report</nz-form-label>
                <nz-form-control nzErrorTip="Record Report Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="recordReport"
                        nzPlaceHolder="Select Record Report">
                        <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                            [nzLabel]="lookupChildren.lookupValue"
                            [nzValue]="lookupChildren.lookupCode">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8">
            <nz-form-item>
                <nz-form-label nzRequired>Fetch Limit</nz-form-label>
                <nz-form-control nzErrorTip="Report Fetch Limit Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="fetchRate"
                        nzPlaceHolder="Select Fetch Limit">
                        <nz-option *ngFor="let lookupChildren of FETCH_LIMIT?.SUB_LOOKUP_DATA"
                            [nzLabel]="lookupChildren.lookupValue"
                            [nzValue]="lookupChildren.lookupCode">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="8" *ngIf="actionType === editAction">
            <nz-form-item>
                <nz-form-label nzRequired>Report Status</nz-form-label>
                <nz-form-control nzErrorTip="Report Status Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="status"
                        nzPlaceHolder="Select Report Status">
                        <nz-option *ngFor="let lookupChildren of APPLICATION_STATUS?.SUB_LOOKUP_DATA"
                            [nzLabel]="lookupChildren.lookupValue"
                            [nzValue]="lookupChildren.lookupCode">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="24">
            <nz-form-item>
                <nz-form-label nzRequired>Description</nz-form-label>
                <nz-form-control nzErrorTip="Description Required">
                    <textarea nz-input formControlName="description"
                        [nzAutosize]="{ minRows: 3}"
                        placeholder="Enter Description"></textarea>
                </nz-form-control>
            </nz-form-item>
        </div>
        <!-- dimention detail -->
        <div nz-col nzSpan="24">
            <nz-form-item>
                <nz-form-label nzRequired>Report Config Detail</nz-form-label>
                <nz-table [nzData]="['']" nzSize="small" class="table-setting"
                    [nzFrontPagination]="false"
                    [nzBordered]="false"
                    [nzShowPagination]="false">
                    <thead>
                        <tr>
                            <th style="width: 15%;text-align: center;">Data Type</th>
                            <th style="text-align: center;">Event Bridge Url
                                <span nz-icon nzType="info-circle" nzTheme="outline" style="color: red;"
                                    nzTooltipTitle="Your Application Bridge Url Must Be Post Type."
                                    nzTooltipPlacement="top" nz-tooltip>
                                </span>
                            </th>
                            <th style="text-align: center;">Lookup Value
                                <span nz-icon nzType="info-circle" nzTheme="outline" style="color: red;"
                                    nzTooltipTitle="Select Valid Lookup For DropDown Show In Report."
                                    nzTooltipPlacement="top" nz-tooltip>
                                </span>
                            </th>
                            <th style="text-align: center;width: 10%;">Hide/Show
                                <span nz-icon nzType="info-circle" nzTheme="outline" style="color: red;"
                                    nzTooltipTitle="Enable Check, Will Show The Setting On Report Screen"
                                    nzTooltipPlacement="top" nz-tooltip>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <nz-badge nzStatus="processing"></nz-badge> Want Data?
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Data Bridge"
                                    formControlName="dataBridgeId" style="width: 100%;">
                                    <nz-option *ngFor="let eventBridge of eventBridges"
                                        [nzLabel]="eventBridge.name"
                                        [nzValue]="eventBridge.id">
                                    </nz-option>
                                </nz-select>
                            </td>
                            <td style="text-align: center;">-------</td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select DATA"
                                    formControlName="isData" style="width: 100%;">
                                    <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                                        [nzLabel]="lookupChildren.lookupValue"
                                        [nzValue]="lookupChildren.lookupCode">
                                    </nz-option>
                                </nz-select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <nz-badge nzStatus="processing"></nz-badge> 
                                Want First Dimension?
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Data Bridge"
                                    formControlName="firstDimensionBridgeId" style="width: 100%;">
                                    <nz-option *ngFor="let eventBridge of eventBridges"
                                        [nzLabel]="eventBridge.name"
                                        [nzValue]="eventBridge.id">
                                    </nz-option>
                                </nz-select>
                            </td>
                            <td>
                                <nz-form-control nzErrorTip="First Dimension LookupKey Required">
                                    <nz-select nzShowSearch nzAllowClear formControlName="firstDimensionLKValue"
                                        nzPlaceHolder="Select Second Dimension LookupKey">
                                        <nz-option *ngFor="let lookup of parentLookup"
                                            [nzLabel]="lookup.lookupValue"
                                            [nzValue]="lookup.lookupType">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select First Dimention"
                                    formControlName="isFirstDimension" style="width: 100%;">
                                    <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                                        [nzLabel]="lookupChildren.lookupValue"
                                        [nzValue]="lookupChildren.lookupCode">
                                    </nz-option>
                                </nz-select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <nz-badge nzStatus="processing"></nz-badge>
                                Want Second Dimension?
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Data Bridge"
                                    formControlName="secondDimensionBridgeId" style="width: 100%;">
                                    <nz-option *ngFor="let eventBridge of eventBridges"
                                        [nzLabel]="eventBridge.name"
                                        [nzValue]="eventBridge.id">
                                    </nz-option>
                                </nz-select>
                            </td>
                            <td>
                                <nz-form-control nzErrorTip="Second Dimension LookupKey Required">
                                    <nz-select nzShowSearch nzAllowClear formControlName="secondDimensionLKValue"
                                        nzPlaceHolder="Select Second Dimension LookupKey">
                                        <nz-option *ngFor="let lookup of parentLookup"
                                            [nzLabel]="lookup.lookupValue"
                                            [nzValue]="lookup.lookupType">
                                        </nz-option>
                                    </nz-select>
                                </nz-form-control>
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select CSV"
                                    formControlName="isSecondDimension" style="width: 100%;">
                                    <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                                        [nzLabel]="lookupChildren.lookupValue"
                                        [nzValue]="lookupChildren.lookupCode">
                                    </nz-option>
                                </nz-select>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
            </nz-form-item>
        </div>
        <!-- download detail -->
        <div nz-col nzSpan="24">
            <nz-form-item>
                <nz-form-label nzRequired>Want Download File?</nz-form-label>
                <nz-table [nzData]="['']" nzSize="small" class="table-setting"
                    [nzFrontPagination]="false" [nzBordered]="false"
                    [nzShowPagination]="false">
                    <thead>
                        <tr>
                            <th style="width: 15%;text-align: center;">
                                Download Type
                            </th>
                            <th style="text-align: center;">
                                Event Bridge Url
                                <span nz-icon nzType="info-circle" nzTheme="outline"
                                    style="color: red;"
                                    nzTooltipTitle="Your Application Bridge Url Must Be Post Type."
                                    nzTooltipPlacement="top" nz-tooltip>
                                </span>
                            </th>
                            <th style="text-align: center;width: 10%;">Hide/Show
                                <span nz-icon nzType="info-circle" nzTheme="outline" style="color: red;"
                                    nzTooltipTitle="Enable Check, Will Show The Setting On Report Screen"
                                    nzTooltipPlacement="top" nz-tooltip>
                                </span>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <nz-badge nzStatus="processing"></nz-badge>
                                Want PDF?
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Data Bridge"
                                    formControlName="pdfBridgeId" style="width: 100%;">
                                    <nz-option *ngFor="let eventBridge of eventBridges"
                                        [nzLabel]="eventBridge.name"
                                        [nzValue]="eventBridge.id">
                                    </nz-option>
                                </nz-select>
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear style="width: 100%;"
                                    nzPlaceHolder="Select PDF"
                                    formControlName="isPdf">
                                    <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                                        [nzLabel]="lookupChildren.lookupValue"
                                        [nzValue]="lookupChildren.lookupCode">
                                    </nz-option>
                                </nz-select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <nz-badge nzStatus="processing"></nz-badge> 
                                Want XLSX?
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Data Bridge"
                                    formControlName="xlsxBridgeId" style="width: 100%;">
                                    <nz-option *ngFor="let eventBridge of eventBridges"
                                        [nzLabel]="eventBridge.name"
                                        [nzValue]="eventBridge.id">
                                    </nz-option>
                                </nz-select>
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select XLSX"
                                    formControlName="isXlsx" style="width: 100%;">
                                    <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                                        [nzLabel]="lookupChildren.lookupValue"
                                        [nzValue]="lookupChildren.lookupCode">
                                    </nz-option>
                                </nz-select>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <nz-badge nzStatus="processing"></nz-badge> 
                                Want CSV?
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear nzPlaceHolder="Select Data Bridge"
                                    formControlName="csvBridgeId" style="width: 100%;">
                                    <nz-option *ngFor="let eventBridge of eventBridges"
                                        [nzLabel]="eventBridge.name"
                                        [nzValue]="eventBridge.id">
                                    </nz-option>
                                </nz-select>
                            </td>
                            <td>
                                <nz-select nzShowSearch nzAllowClear style="width: 100%;"
                                    nzPlaceHolder="Select CSV"
                                    formControlName="isCsv">
                                    <nz-option *ngFor="let lookupChildren of UI_LOOKUP?.SUB_LOOKUP_DATA"
                                        [nzLabel]="lookupChildren.lookupValue"
                                        [nzValue]="lookupChildren.lookupCode">
                                    </nz-option>
                                </nz-select>
                            </td>
                        </tr>
                    </tbody>
                </nz-table>
            </nz-form-item>
        </div>
        <div nz-col [nzSpan]="formRefShow ? 6 : 8">
            <nz-form-item>
                <nz-form-label>Distinct LookupKey</nz-form-label>
                <nz-form-control nzErrorTip="Distinct LookupKey Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="distinctLKValue"
                        nzPlaceHolder="Select Distinct LookupKey">
                        <nz-option *ngFor="let lookup of parentLookup"
                            [nzLabel]="lookup.lookupValue"
                            [nzValue]="lookup.lookupType">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col [nzSpan]="formRefShow ? 6 : 8">
            <nz-form-item>
                <nz-form-label>Aggregation LookupKey</nz-form-label>
                <nz-form-control nzErrorTip="Aggregation LookupKey Required">
                    <nz-select nzShowSearch nzAllowClear formControlName="aggLKValue"
                        nzPlaceHolder="Select Aggregation LookupKey">
                        <nz-option *ngFor="let lookup of parentLookup"
                            [nzLabel]="lookup.lookupValue"
                            [nzValue]="lookup.lookupType">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col [nzSpan]="formRefShow ? 6 : 8">
            <nz-form-item>
                <nz-form-label nzRequired>Payload Ref</nz-form-label>
                <nz-form-control nzErrorTip="Payload Ref Required">
                    <nz-select nzShowSearch nzAllowClear
                        formControlName="payloadRef"
                        nzPlaceHolder="Select Payload Ref"
                        (ngModelChange)="onChangePayloadRefValue($event)">
                        <nz-option *ngFor="let lookupChildren of PAYLOAD_REF?.SUB_LOOKUP_DATA"
                            [nzLabel]="lookupChildren.lookupValue"
                            [nzValue]="lookupChildren.lookupCode">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col nzSpan="6" *ngIf="formRefShow">
            <nz-form-item>
                <nz-form-label nzRequired>Form Reference</nz-form-label>
                <nz-form-control nzErrorTip="Form Reference Required">
                    <nz-select nzShowSearch nzAllowClear
                        formControlName="formRequestId"
                        nzPlaceHolder="Select Form Reference">
                        <nz-option *ngFor="let genForm of genForms"
                            [nzLabel]="genForm.formName"
                            [nzValue]="genForm.id">
                        </nz-option>
                    </nz-select>
                </nz-form-control>
            </nz-form-item>
        </div>
        <div nz-col [nzSpan]="24" class="search-area">
            <button nz-button type="reset">Clear</button>
            <button nz-button [nzType]="'primary'"
                [nzLoading]="loading"
                [disabled]="!reportSettingForm.valid"
                type="submit" style="float: right;">
                Submit
            </button>
        </div>
    </div>
</form>